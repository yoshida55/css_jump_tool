================================================================================
CSS Jumper セットアップ手順
================================================================================

【概要】
HTMLからAlt+クリックでCSSの該当行をVS Codeで開く拡張機能


================================================================================
■ セットアップ手順（会社PC等）
================================================================================

【STEP 1】フォルダを配置
---------------------------------------------------------------------------
css-jumperフォルダを任意の場所にコピー

例: C:\tools\css-jumper\

※日本語を含まないパスを推奨


【STEP 2】Chrome拡張機能をインストール
---------------------------------------------------------------------------
1. Chromeで chrome://extensions/ を開く
2. 右上「デベロッパーモード」をON
3. 「パッケージ化されていない拡張機能を読み込む」をクリック
4. css-jumperフォルダを選択
5. 表示された拡張機能の「ID」をメモ
   （例: hoplahamgadnacgmihmaceglgeopkfeg）


【STEP 3】setup.bat を実行
---------------------------------------------------------------------------
1. setup.bat をダブルクリック
2. 拡張機能ID を入力してEnter
3. 「セットアップ完了」と表示されればOK

※自動で以下を実行:
  - JSONファイルのパス更新
  - レジストリ登録
  - vscode://プロトコル登録


【STEP 4】Chromeを再起動
---------------------------------------------------------------------------
Chromeを完全に閉じて再起動


【STEP 5】動作確認
---------------------------------------------------------------------------
1. 拡張機能アイコンをクリック → プロジェクトパスを設定
2. Live ServerでHTMLを開く
3. 要素をAlt+クリック → VS Codeで該当CSSが開けばOK


================================================================================
■ トラブルシューティング
================================================================================

【エラー: Native Messaging失敗】
→ setup.bat を再実行
→ Chromeを完全に再起動

【VS Codeが開かない】
→ コマンドプロンプトで確認:
   start vscode://file/C:/test.txt:1
→ 開けばChrome側の問題、開かなければVS Code登録の問題

【拡張機能が動かない】
→ chrome://extensions/ で拡張機能を再読み込み
→ ページをリロード


================================================================================
■ ファイル構成
================================================================================

css-jumper/
├── setup.bat              ... セットアップ用（これを実行）
├── manifest.json          ... 拡張機能の設定
├── background.js          ... バックグラウンド処理
├── content.js             ... ページ上の処理
├── popup.html / popup.js  ... 設定画面
├── icons/                 ... アイコン
└── native-host/
    ├── open_vscode.exe              ... VS Code起動用
    └── com.cssjumper.open_vscode.json  ... Native Messaging設定


================================================================================
■ 今回の問題と解決策（メモ）
================================================================================

【問題】
家のPCでAlt+クリックしてもVS Codeが開かない
（会社では動いていた）

【原因】
ChromeがJavaScriptからの外部プロトコル（vscode://）呼び出しをブロック

【解決策】
Native Messagingを使用
Chrome拡張 → open_vscode.exe → start vscode://...

================================================================================
