# ãƒ‘ã‚¿ãƒ¼ãƒ³IDæŠ½å‡ºã‚¨ãƒ©ãƒ¼ - æ‹¬å¼§ãŒè¤‡æ•°ã‚ã‚‹å ´åˆã®å‡¦ç†ãƒŸã‚¹

**æ—¥ä»˜**: 2025-10-31
**Keywords**: ãƒ‘ã‚¿ãƒ¼ãƒ³, æ‹¬å¼§, rsplit, split, IDæŠ½å‡º, æ­£è¦è¡¨ç¾
**Error**: `ãƒ‘ã‚¿ãƒ¼ãƒ³ 'web' ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“`
**å½±éŸ¿ç¯„å›²**: ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰æ©Ÿèƒ½ã€ãƒ‘ã‚¿ãƒ¼ãƒ³é¸æŠ
**é‡è¦åº¦**: ğŸŸ¡ Important

---

## ç—‡çŠ¶

ãƒ‘ã‚¿ãƒ¼ãƒ³åã€Œã‚¦ã‚§ãƒ–(web)ã‚¢ãƒ—ãƒªé–‹ç™º_å°‚é–€ç”¨èª (wab_senmonyougo)ã€ã‚’é¸æŠæ™‚ã«ã€ã‚¨ãƒ©ãƒ¼ç™ºç”Ÿ:

```
ãƒ‘ã‚¿ãƒ¼ãƒ³ 'web' ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“
```

**æœŸå¾…å‹•ä½œ**: ãƒ‘ã‚¿ãƒ¼ãƒ³ID `wab_senmonyougo` ã‚’æŠ½å‡º
**å®Ÿéš›ã®å‹•ä½œ**: èª¤ã£ã¦ `web` ã‚’æŠ½å‡º

---

## åŸå› 

ãƒ‘ã‚¿ãƒ¼ãƒ³åã«æ‹¬å¼§ `()` ãŒè¤‡æ•°å«ã¾ã‚Œã‚‹å ´åˆã€**æœ€åˆã®æ‹¬å¼§**ã®å†…å®¹ã‚’å–å¾—ã—ã¦ã—ã¾ã†:

```python
# å•é¡Œã®ã‚³ãƒ¼ãƒ‰
pattern_id = selected.split("(")[1].split(")")[0]

# å‹•ä½œä¾‹
selected = "ã‚¦ã‚§ãƒ–(web)ã‚¢ãƒ—ãƒªé–‹ç™º_å°‚é–€ç”¨èª (wab_senmonyougo)"
selected.split("(")  # â†’ ["ã‚¦ã‚§ãƒ–", "web)ã‚¢ãƒ—ãƒªé–‹ç™º_å°‚é–€ç”¨èª ", "wab_senmonyougo)"]
# [1] â†’ "web)ã‚¢ãƒ—ãƒªé–‹ç™º_å°‚é–€ç”¨èª "
# .split(")")[0] â†’ "web"  â† èª¤ã£ãŸæŠ½å‡º
```

**æ ¹æœ¬åŸå› **:
- `split("(")` ã¯å·¦ã‹ã‚‰åˆ†å‰² â†’ æœ€åˆã®æ‹¬å¼§ã‚’å–å¾—
- ãƒ‘ã‚¿ãƒ¼ãƒ³è¦å‰‡: ID ã¯**æœ€å¾Œã®æ‹¬å¼§**ã«è¨˜è¼‰

---

## å¯¾å‡¦

**æœ€å¾Œã®æ‹¬å¼§**ã‹ã‚‰IDã‚’æŠ½å‡ºã™ã‚‹ã‚ˆã†ä¿®æ­£:

```python
# ä¿®æ­£å¾Œã®ã‚³ãƒ¼ãƒ‰
pattern_id = selected.rsplit("(", 1)[1].rstrip(")")

# å‹•ä½œä¾‹
selected = "ã‚¦ã‚§ãƒ–(web)ã‚¢ãƒ—ãƒªé–‹ç™º_å°‚é–€ç”¨èª (wab_senmonyougo)"
selected.rsplit("(", 1)  # â†’ ["ã‚¦ã‚§ãƒ–(web)ã‚¢ãƒ—ãƒªé–‹ç™º_å°‚é–€ç”¨èª ", "wab_senmonyougo)"]
# [1] â†’ "wab_senmonyougo)"
# .rstrip(")") â†’ "wab_senmonyougo"  â† æ­£ã—ã„æŠ½å‡º
```

**ãƒã‚¤ãƒ³ãƒˆ**:
- `rsplit("(", 1)`: å³ã‹ã‚‰1å›ã ã‘åˆ†å‰² â†’ æœ€å¾Œã®æ‹¬å¼§ã§åˆ†å‰²
- `rstrip(")")`: å³ç«¯ã® `)` ã‚’å‰Šé™¤

---

## ä¿®æ­£ãƒ•ã‚¡ã‚¤ãƒ«

- `notion_uploader/gui/upload_tab.py` (250è¡Œç›®)
- `notion_uploader/gui/upload_tab.py` (341è¡Œç›®)

---

## äºˆé˜²ç­–

**ãƒ‘ã‚¿ãƒ¼ãƒ³åã®å‘½åè¦å‰‡**:
```
è¡¨ç¤ºå(èª¬æ˜)_è©³ç´° (pattern_id)
         â†‘              â†‘
      ä»»æ„ã®æ‹¬å¼§    æœ€å¾Œã®æ‹¬å¼§ã«ID
```

**ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹è¿½åŠ **:
```python
# æ‹¬å¼§ãŒè¤‡æ•°ã‚ã‚‹å ´åˆã®ãƒ†ã‚¹ãƒˆ
test_patterns = [
    "ã‚¦ã‚§ãƒ–(web)ã‚¢ãƒ—ãƒªé–‹ç™º_å°‚é–€ç”¨èª (wab_senmonyougo)",
    "å­¦ç¿’(learning)åŠ¹ç‡(efficiency) (gakushu_kouritu)",
    "Python(åŸºæœ¬)ã‚³ãƒ¼ãƒ‰ (python_basic)",
]
```

---

## é–¢é€£å•é¡Œ

ãªã—

---

## å­¦ã‚“ã ã“ã¨

1. **æ–‡å­—åˆ—åˆ†å‰²ã®æ–¹å‘æ€§**: `split()` vs `rsplit()`
   - `split()`: å·¦ã‹ã‚‰åˆ†å‰²
   - `rsplit(maxsplit=1)`: å³ã‹ã‚‰æŒ‡å®šå›æ•°ã ã‘åˆ†å‰²

2. **æ‹¬å¼§æŠ½å‡ºã®å®šçŸ³**:
   ```python
   # æœ€åˆã®æ‹¬å¼§: split("(")[1].split(")")[0]
   # æœ€å¾Œã®æ‹¬å¼§: rsplit("(", 1)[1].rstrip(")")
   ```

3. **æ­£è¦è¡¨ç¾ã®ä»£æ›¿**:
   - æ­£è¦è¡¨ç¾ã§ã‚‚å¯èƒ½: `re.search(r'\(([^)]+)\)$', text).group(1)`
   - ã§ã‚‚ `rsplit` ã®æ–¹ãŒã‚·ãƒ³ãƒ—ãƒ«
